:root{
  --bg:#0a0f1a; --panel:#0f1421; --panel-2:#0b1020; --text:#dbe7ff;
  --muted:#8aa0c6; --border:#1f2a44; --accent:#4d8dff;
  --good:#00c878; --warn:#ffb347; --bad:#ff5050;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background:radial-gradient(1200px 800px at 50% -200px,#13203b 0%,var(--bg) 55%);
}

/* Header */
.app-header{
  position:sticky; top:0; z-index:10;
  background:linear-gradient(180deg,rgba(10,15,26,.98) 0%,rgba(10,15,26,.92) 100%);
  border-bottom:1px solid var(--border);
  padding:12px 18px; backdrop-filter:blur(6px);
}
.app-header h1{ margin:0 0 10px; font-size:18px; font-weight:700; }
.toolbar{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; background:#0c1120; }

#teamFilter{
  -webkit-appearance:none; appearance:none;
  background:#0c1120; color:var(--text);
  border:1px solid var(--border); border-radius:10px;
  padding:8px 28px 8px 10px; font:inherit; cursor:pointer;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%23dbe7ff' d='M1.41.59 6 5.17 10.59.59 12 2l-6 6-6-6z'/%3E%3C/svg%3E");
  background-repeat:no-repeat; background-position:right 8px center; background-size:12px 8px;
}
#teamFilter:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 2px rgba(77,141,255,.25); }

/* Buttons */
.file-btn{
  position:relative; display:inline-flex; align-items:center; gap:8px;
  background:var(--accent); color:#071022; border:none; padding:8px 12px;
  border-radius:10px; cursor:pointer; font-weight:600;
}
.file-btn input{ position:absolute; inset:0; opacity:0; cursor:pointer; }
button{
  border:1px solid var(--border); background:#0c1120; color:var(--text);
  padding:8px 10px; border-radius:10px; cursor:pointer;
}
button:hover{ filter:brightness(1.1); }
.danger{ background:#291017; border-color:#41202a; color:#ffc6cc; }

/* Layout */
.layout{
  display:grid; grid-template-columns:minmax(640px,1fr) minmax(360px,38vw);
  gap:14px; padding:14px 18px 40px; align-items:start;
}
.panel-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 10px; margin-bottom:8px;
  border:1px solid var(--border); border-radius:12px; background:var(--panel);
}
.panel-header h2{ margin:0; font-size:16px; }

/* Tabs */
.with-tabs{ grid-template-columns:minmax(640px,1fr) minmax(360px,38vw); }
.tabs{ grid-column:1/-1; display:flex; gap:8px; margin:0 0 8px 0; }
.tab-btn{
  padding:8px 12px; border-radius:10px; border:1px solid var(--border);
  background:#0c1120; color:var(--text); cursor:pointer;
}
.tab-btn.active{ background:var(--accent); color:#071022; border-color:var(--accent); }
.tab-panel{ display:none; }
.tab-panel.active{ display:block; }
.knockout.tab-panel{ grid-column:1/-1; }

/* Matches */
.matches-list{ display:block; }
.md-section{
  border:1px solid var(--border); border-radius:12px; background:var(--panel);
  margin:12px 0;
}
.md-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-bottom:1px solid var(--border);
}
.md-counter{ color:var(--muted); font-size:12px; }
.md-toggle{
  padding:6px 10px; border:1px solid var(--border); border-radius:8px;
  background:#0c1120; color:var(--text); cursor:pointer;
}
.md-body{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:10px; padding:10px;
}
.md-body.collapsed{ display:none; }

.match{
  border:1px solid var(--border); border-radius:10px; background:var(--panel-2);
  padding:8px 10px;
}
.match.picked{ opacity:.45; }
.match-row{
  display:grid; grid-template-columns:84px 1fr; gap:10px; align-items:center;
}
.match-meta{ font-size:12px; white-space:nowrap; }

.teams-interactive{
  display:grid; grid-template-columns:minmax(0,1fr) auto minmax(0,1fr);
  align-items:center; column-gap:8px; row-gap:6px;
}

.chip-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:10px; border:1px solid var(--border);
  background:#0c1324; color:var(--text); cursor:pointer; width:100%;
  justify-content:flex-start; text-align:left;
}
.chip-btn:hover{ filter:brightness(1.08); }
.chip-btn.active{ border-color:var(--accent); box-shadow:0 0 0 2px rgba(77,141,255,.25) inset; }
.chip-btn.draw{ justify-content:center; width:auto; min-width:36px; padding:6px 8px; }
.draw-mark{ font-weight:800; letter-spacing:.5px; }

.teamchip{ display:inline-flex; align-items:center; gap:8px; }
.teamchip img{ height:18px; width:auto; object-fit:contain; }

/* Standings */
.table{
  width:100%; border-collapse:separate; border-spacing:0; overflow:hidden;
  border:1px solid var(--border); border-radius:12px; background:var(--panel);
}
.table thead th{
  text-align:left; color:var(--muted); font-weight:600; font-size:12px;
  padding:8px 10px; border-bottom:1px solid var(--border);
}
.table tbody td{ padding:10px 12px; border-bottom:1px solid rgba(31,42,68,.55); }
.rank-badge{ text-align:center; font-weight:700; }
.team-cell{ display:flex; align-items:center; gap:8px; }

.table tbody tr.zone-advance{ background:rgba(0,200,120,.10); }
.table tbody tr.zone-playoff{ background:rgba(77,141,255,.08); }
.table tbody tr.zone-out{ background:rgba(255,80,80,.08); }
.table tbody tr.zone-advance td:first-child{ border-left:3px solid var(--good); }
.table tbody tr.zone-playoff td:first-child{ border-left:3px solid var(--accent); }
.table tbody tr.zone-out td:first-child{ border-left:3px solid var(--bad); }

/* Bracket */
.bracket{
  border:1px solid var(--border); border-radius:12px; background:var(--panel);
  padding:12px; overflow-x:auto;
}
.bracket-grid{
  display:grid; grid-template-columns:repeat(5,minmax(220px,1fr));
  gap:12px;
}
.round-col{ display:flex; flex-direction:column; gap:10px; }
.round-title{ color:var(--muted); font-size:12px; padding:4px 6px; }
.tie{
  background:var(--panel-2); border:1px solid var(--border); border-radius:10px;
  padding:8px; display:flex; flex-direction:column; gap:6px;
}
.pick-btn{
  display:flex; align-items:center; gap:8px;
  border:1px solid var(--border); background:#0c1324; color:var(--text);
  padding:6px 8px; border-radius:8px; cursor:pointer; min-width:0;
}
.pick-btn:hover{ filter:brightness(1.08); }
.pick-btn.active{ border-color:var(--accent); box-shadow:0 0 0 2px rgba(77,141,255,.25) inset; }
.pick-btn .name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; min-width:0; flex:1; }
.tie .note{ color:var(--muted); font-size:11px; }
.final .tie{ border-width:2px; }

/* Footer */
.app-footer{ color:var(--muted); padding:18px; margin-top:10px; }

/* Responsive */
@media (max-width:1100px){
  .layout{ grid-template-columns:1fr; }
  .with-tabs{ grid-template-columns:1fr; }
}
@media (max-width:900px){
  .match-row{ grid-template-columns:72px 1fr; gap:8px; }
  .chip-btn{ padding:5px 8px; }
  .chip-btn.draw{ min-width:32px; }
}
@media (max-width:420px){
  .chip-btn{ font-size:12px; }
}